#!/bin/sh
SCRIPTS=`dirname $0`
. ${SCRIPTS}/pax-validate

unset NAME
unset TODIR

while
  getopts n:d:h- SETTING
do
  case ${SETTING} in
    h|\?) echo "pax-move-bundle -n bundleName -d directory [-- mvnOpts ...]" ; exit ;;

    n) NAME=${OPTARG} ;;
    d) TODIR=${OPTARG} ;;

    -) break ;;
  esac
done

shift $((${OPTIND}-1))

if [ -z "${NAME}" ]
then
  read -p "bundle name (myBundle) ? " NAME
fi
if [ -z "${TODIR}" ]
then
  read -p "to directory (.) ? " TODIR
fi

CWD=.
mvn pax:move-bundle \
  -Dname=${NAME:=myBundle} \
  -DtargetDirectory=${TODIR:=${CWD}} \
  ${PAX_CONSTRUCT_OPTIONS} "$@"

